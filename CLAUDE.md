# INTEGRAL MVP - ê°œë°œ ê°€ì´ë“œ

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

**ì œì£¼ ë¬¼ë¥˜ ê³µìœ  í”Œë«í¼** - ê³µê°„ê³¼ ê²½ë¡œë¥¼ ìƒí’ˆí™”í•˜ëŠ” ê³µìœ  ë¬¼ë¥˜ ì„œë¹„ìŠ¤

### âš ï¸ MVPì˜ ë³¸ì§ˆ
> **ì„¤ë“ìš© ì‹œì—° í”„ë¡œí† íƒ€ì… (ì‹¤ì œ ìš´ì˜ ëª©ì  ì•„ë‹˜)**
> - íˆ¬ìì/ì´í•´ê´€ê³„ìì—ê²Œ 3-5ë¶„ ë‚´ ì„œë¹„ìŠ¤ ê°€ì¹˜ ì „ë‹¬
> - ë”ë¯¸ ë°ì´í„° ê¸°ë°˜ (ë°±ì—”ë“œ/DB ì—†ìŒ)
> - "ì´ ì„œë¹„ìŠ¤ê°€ ì‘ë™í•œë‹¤ë©´ ì–´ë–»ê²Œ ë³´ì¼ê¹Œ?" ì‹œê°í™”

---

## ğŸ¯ í•µì‹¬ ì„¤ê³„ ì›ì¹™

1. **ì§ê´€ì„± ìš°ì„ ** - ë³„ë„ ì„¤ëª… ì—†ì´ í™”ë©´ë§Œìœ¼ë¡œ ì´í•´ ê°€ëŠ¥
2. **ì§€ë„ ì¤‘ì‹¬ UI** - ëª¨ë“  ê°€ì¹˜ëŠ” ì§€ë„ì—ì„œ ì‹œê°ì ìœ¼ë¡œ ì „ë‹¬
3. **ì‹±ê¸€ í˜ì´ì§€ êµ¬ì¡°** - ë³„ë„ ë¼ìš°íŒ… ì—†ì´ ëª¨ë‹¬ë¡œ ì •ë³´ ì ‘ê·¼
4. **ë”ë¯¸ ë°ì´í„° ê¸°ë°˜** - mockData.tsì—ì„œ ëª¨ë“  ë°ì´í„° ê´€ë¦¬
5. **ë£° ê¸°ë°˜ ë¡œì§** - ë³µì¡í•œ ì•Œê³ ë¦¬ì¦˜ ëŒ€ì‹  ë‹¨ìˆœ ì¡°ê±´ë¬¸

---

## âš™ï¸ ê¸°ìˆ  ìŠ¤íƒ

- **í”„ë ˆì„ì›Œí¬**: Vite + React + TypeScript
- **ìŠ¤íƒ€ì¼ë§**: Tailwind CSS
- **ì§€ë„**: Mapbox GL JS (light-v11)
- **í°íŠ¸**: Pretendard (ë©”ì¸), Inter (ìˆ«ì)

---

## âœ… ì™„ë£Œëœ ì‘ì—…

### PR1: í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¤ì •
Vite + React + TypeScript + Tailwind CSS êµ¬ì¶•

### PR2-4: UI ì „ë©´ ê°œí¸
**ë ˆì´ì•„ì›ƒ:**
- ì „ì²´ í™”ë©´ Mapbox ì§€ë„ ë°°ê²½
- ì¢Œì¸¡ 45% ë¸”ëŸ¬ ì˜¤ë²„ë ˆì´ (`backdrop-filter: blur(12px)`)
- ì¢Œì¸¡ ìƒë‹¨: INTEGRAL ë¡œê³ 
- ì¢Œì¸¡ í•˜ë‹¨: ì„œë¹„ìŠ¤ ì½˜ì†” ìœ„ì ¯

**ì„œë¹„ìŠ¤ ì½˜ì†”:**
- 3ê°œ íƒ­: ë³´ê´€ | ìš´ì†¡ | ë³´ê´€+ìš´ì†¡
- ì•„ì½”ë””ì–¸ í¼ (ì—ì–´ë¹„ì•¤ë¹„ì‹)
- íƒ­ë³„ ë§ì¶¤í˜• ì…ë ¥ í•„ë“œ
- íƒ­ë³„ ìƒ‰ìƒ ë²„íŠ¼ (blue/emerald/purple)

**ì§€ë„:**
- ë©”ì¸: ì œì£¼ë„ ì¤‘ì‹¬, centerOffsetìœ¼ë¡œ ìš°ì¸¡ ë°°ì¹˜
- ë¯¸ë‹ˆë§µ: í•œë°˜ë„ ì „ì²´ + ì…ì¶œë„ ê²½ë¡œ í™”ì‚´í‘œ
- ë§ˆì»¤: ì•„ì´ì†Œë©”íŠ¸ë¦­ 3D íŒŒë ›íŠ¸ (ì£¼í™© #ff6b35)
- ê²½ë¡œ: ë² ì§€ì–´ ê³¡ì„  (ë„ë‚´ íŒŒë€ ì‹¤ì„ , ì…ë„ ë…¹ìƒ‰ ì ì„ , ì¶œë„ ë³´ë¼ ì ì„ )

### PR3-2: ë³´ê´€ë©´ì  ì„ íƒ (í¬ì¥ ëª¨ë“ˆ ë¶„ë¥˜ + íŒŒë ›íŠ¸ í™˜ì‚°) âœ…

#### 1) í¬ì¥ ëª¨ë“ˆ ìë™ ë¶„ë¥˜ (`utils/boxClassifier.ts`)

**ëª©ì :** ì‚¬ìš©ìê°€ ì…ë ¥í•œ ë°•ìŠ¤ ì‹¤ì¸¡ê°’ì„ ë¬¼ë¥˜ í‘œì¤€ ëª¨ë“ˆë¡œ ìë™ ë¶„ë¥˜

**í‘œì¤€ ëª¨ë“ˆ ê·œê²©:**
- ì†Œí˜• (8ë¶„í• ): 550mm Ã— 275mm
- ì¤‘í˜• (6ë¶„í• ): 550mm Ã— 366mm
- ëŒ€í˜• (4ë¶„í• ): 650mm Ã— 450mm

**ë¶„ë¥˜ ë¡œì§ (ë¬¼ë¥˜ í‘œì¤€í™” ë°©ì‹):**
```
1. ë©´ì  ì²´í¬ (ì ˆëŒ€ ê¸°ì¤€, ë²„í¼ ì—†ìŒ)
   - ë°•ìŠ¤ ë©´ì  > ëª¨ë“ˆ ë©´ì  â†’ fits ì‹¤íŒ¨

2. í˜•ìƒ ì²´í¬ (10mm ë²„í¼ í—ˆìš©, 90ë„ íšŒì „ ê°€ëŠ¥)
   - ì›ë˜ ë°©í–¥: ë°•ìŠ¤ ê°€ë¡œ â‰¤ ëª¨ë“ˆ ê°€ë¡œ + 10mm AND ë°•ìŠ¤ ì„¸ë¡œ â‰¤ ëª¨ë“ˆ ì„¸ë¡œ + 10mm
   - íšŒì „ ë°©í–¥: ë°•ìŠ¤ ì„¸ë¡œ â‰¤ ëª¨ë“ˆ ê°€ë¡œ + 10mm AND ë°•ìŠ¤ ê°€ë¡œ â‰¤ ëª¨ë“ˆ ì„¸ë¡œ + 10mm
   - ë‘˜ ì¤‘ í•˜ë‚˜ë¼ë„ í†µê³¼í•˜ë©´ fits ì„±ê³µ

3. ìµœì†Œ ì í•© ëª¨ë“ˆ ì„ íƒ
   - fits ë˜ëŠ” ëª¨ë“  ëª¨ë“ˆ ì¤‘ ë©´ì ì´ ê°€ì¥ ì‘ì€ ëª¨ë“ˆ ì„ íƒ
   - fits ë˜ëŠ” ëª¨ë“ˆì´ ì—†ìœ¼ë©´ â†’ UNCLASSIFIED
```

**ëª¨ë“ˆë³„ ì§‘ê³„:**
- ë¶„ë¥˜ëœ ë°•ìŠ¤ë“¤ì„ ëª¨ë“ˆë³„ë¡œ ê·¸ë£¹í•‘
- ê° ëª¨ë“ˆë³„: ì´ ê°œìˆ˜, ìµœëŒ€ ë†’ì´, ì´ ì²´ì , ë‹¨ë… íŒŒë ›íŠ¸ ìˆ˜ ê³„ì‚°

#### 2) íŒŒë ›íŠ¸ í™˜ì‚° (`utils/palletCalculator.ts`)

**ëª©ì :** ì²´ì  ê¸°ë°˜ íŒŒë ›íŠ¸ í™˜ì‚° (ë¬¼ë¥˜ í‘œì¤€í™” ë°©ì‹)

**íŒŒë ›íŠ¸ ê·œê²©:**
- 1100mm Ã— 1100mm (ê°€ë¡œ Ã— ì„¸ë¡œ)
- ìµœëŒ€ ì ì¬ ë†’ì´: 1800mm

**í™˜ì‚° ë¡œì§:**
```
1. ê° ëª¨ë“ˆë³„ ì²´ì  ê³„ì‚°
   - ë°•ìŠ¤ ì²´ì  = ëª¨ë“ˆ ê°€ë¡œ Ã— ëª¨ë“ˆ ì„¸ë¡œ Ã— min(ë°•ìŠ¤ ë†’ì´, 1800mm)
   - ëª¨ë“ˆë³„ ì´ ì²´ì  = ë°•ìŠ¤ ì²´ì  Ã— ë°•ìŠ¤ ê°œìˆ˜

2. ì´ë¡  ìµœì†Œ íŒŒë ›íŠ¸ ìˆ˜ (ì²´ì  ê¸°ë°˜)
   - ì´ ì²´ì  = ëª¨ë“  ëª¨ë“ˆì˜ ì²´ì  í•©ì‚°
   - íŒŒë ›íŠ¸ ìš©ëŸ‰ = 1100mm Ã— 1100mm Ã— 1800mm
   - ì´ë¡  íŒŒë ›íŠ¸ ìˆ˜ = ceil(ì´ ì²´ì  / íŒŒë ›íŠ¸ ìš©ëŸ‰)

3. í˜¼í•© ì ì¬ ë³´ì •ê³„ìˆ˜ ì ìš©
   - ë‹¨ì¼ ëª¨ë“ˆ: 1.0 (ë³´ì • ì—†ìŒ)
   - í˜¼í•© ëª¨ë“ˆ (2ì¢… ì´ìƒ): 1.1 (+10% ë³´ì •)
   - ìµœì¢… íŒŒë ›íŠ¸ ìˆ˜ = ceil(ì´ë¡  íŒŒë ›íŠ¸ ìˆ˜ Ã— ë³´ì •ê³„ìˆ˜)
```

**ë©´ì  ê¸°ë°˜ í™˜ì‚° (fallback):**
- ì…ë ¥: ë©´ì (ã¡)
- íŒŒë ›íŠ¸ 1ê°œ = 1.1m Ã— 1.1m = 1.21ã¡
- í•„ìš” íŒŒë ›íŠ¸ = ceil(ë©´ì  / 1.21)

#### 3) UI í”Œë¡œìš° (`components/Layout/ServiceConsole.tsx`)

**ì…ë ¥ ë°©ì‹:**
- í¬ì¥ ë‹¨ìœ„ (ê¸°ë³¸): ë°•ìŠ¤ ì‹¤ì¸¡ ì…ë ¥ â†’ ìë™ ë¶„ë¥˜ â†’ íŒŒë ›íŠ¸ í™˜ì‚°
- ë©´ì  ë‹¨ìœ„ (fallback): ë©´ì (ã¡) ì§ì ‘ ì…ë ¥

**í¬ì¥ ë‹¨ìœ„ í”Œë¡œìš°:**
```
1. ë°•ìŠ¤ ì¢…ë¥˜ ì¶”ê°€ (ê°€ë¡œ/ì„¸ë¡œ/ë†’ì´/ê°œìˆ˜ ì…ë ¥)
2. ìë™ ë¶„ë¥˜ â†’ í‘œì¤€ ëª¨ë“ˆ ë°°ì§€ í‘œì‹œ (ì†Œí˜•/ì¤‘í˜•/ëŒ€í˜•)
3. ëª¨ë“ˆë³„ ì ì¬ëŸ‰ ìš”ì•½ (í¼ì¹˜ê¸°/ì ‘ê¸°)
4. ìµœì¢… íŒŒë ›íŠ¸ ê²°ê³¼ í‘œì‹œ (3D ì•„ì´ì½˜ + ì•ˆë‚´ë¬¸êµ¬)
5. "N íŒŒë ›íŠ¸ë¥¼ ì„ íƒí•˜ì‹œê² ìŠµë‹ˆê¹Œ?" CTA ë²„íŠ¼
6. ì„ íƒ í™•ì • â†’ ë‹¤ìŒ ì•„ì½”ë””ì–¸ ìë™ í¼ì¹¨
```

**ì˜ˆì™¸ ì²˜ë¦¬:**
- UNCLASSIFIED ë°•ìŠ¤ â†’ ê²½ê³  + "ë©´ì  ë‹¨ìœ„ë¡œ ì „í™˜" ë²„íŠ¼
- ê²€ì¦ ì‹¤íŒ¨ (ë©´ì /íŒŒë ›íŠ¸ ê³„ì‚°) â†’ ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ

---

## ğŸ¯ ë‹¤ìŒ ì‘ì—… (PR ë¡œë“œë§µ)

### PR3-3: í’ˆëª© ë“œë¡­ë‹¤ìš´ + ìº˜ë¦°ë”
- í’ˆëª© ë“œë¡­ë‹¤ìš´ (íƒë°°ì‚¬ ì·¨ê¸‰í’ˆëª©, ê²€ìƒ‰, ë‹¤ì¤‘ ì„ íƒ)
- ìº˜ë¦°ë”: ë³´ê´€ê¸°ê°„ (ì‹œì‘ì¼~ì¢…ë£Œì¼), ìš´ì†¡ë‚ ì§œ (ë‹¨ì¼)

### PR3-4: ë³´ê´€+ìš´ì†¡ ìˆœì„œ ë¡œì§
- ìˆœì„œ ì„ íƒ (ë³´ê´€ ë¨¼ì € | ìš´ì†¡ ë¨¼ì €)
- ì…ë ¥ í•„ë“œ ë™ì  ì¬ë°°ì¹˜

### PR4: ê²€ìƒ‰ ë§¤ì¹­ + ì§€ë„ ì—°ë™
- ê²€ìƒ‰ â†’ ë§¤ì¹­ ê²°ê³¼ í‘œì‹œ
- ì§€ë„ í•˜ì´ë¼ì´íŠ¸ + ìƒí’ˆ ì¹´ë“œ ë¦¬ìŠ¤íŠ¸

### PR5: ê±°ë˜ ëª¨ë‹¬ + ê·œì • ë§¤ì¹­
- DealModal êµ¬í˜„
- ê·œì • ë§¤ì¹­ ì—”ì§„ + ë¹„ìš© ê³„ì‚°

### PR6: ë§ˆë¬´ë¦¬ + ìµœì í™”
- ë°˜ì‘í˜• ë””ìì¸ + ì• ë‹ˆë©”ì´ì…˜

---

## ğŸ“Š í•µì‹¬ ë¡œì§ & ë°ì´í„° ëª¨ë¸

### í¬ì¥ ëª¨ë“ˆ ë¶„ë¥˜ ì•Œê³ ë¦¬ì¦˜

**í•µì‹¬ í•¨ìˆ˜:** `classifyBox(box: BoxInput) â†’ ClassifiedBox`

```typescript
// 1. ë©´ì  ì²´í¬
if (ë°•ìŠ¤ë©´ì  > ëª¨ë“ˆë©´ì ) return false

// 2. í˜•ìƒ ì²´í¬ (10mm ë²„í¼, 90ë„ íšŒì „)
fitsOriginal = (ë°•ìŠ¤ê°€ë¡œ â‰¤ ëª¨ë“ˆê°€ë¡œ+10) AND (ë°•ìŠ¤ì„¸ë¡œ â‰¤ ëª¨ë“ˆì„¸ë¡œ+10)
fitsRotated = (ë°•ìŠ¤ì„¸ë¡œ â‰¤ ëª¨ë“ˆê°€ë¡œ+10) AND (ë°•ìŠ¤ê°€ë¡œ â‰¤ ëª¨ë“ˆì„¸ë¡œ+10)
if (!fitsOriginal AND !fitsRotated) return false

// 3. fits ë˜ëŠ” ëª¨ë“  ëª¨ë“ˆ ì¤‘ ë©´ì  ìµœì†Œ ì„ íƒ
candidates.sort((a, b) => a.area - b.area)
return candidates[0]
```

### íŒŒë ›íŠ¸ í™˜ì‚° ì•Œê³ ë¦¬ì¦˜

**í•µì‹¬ í•¨ìˆ˜:** `calcPallets(selectedModules, inputs) â†’ PalletCalculationResult`

```typescript
// 1. ì²´ì  ê³„ì‚°
totalVolume = 0
for (module in selectedModules) {
  boxVolume = module.width Ã— module.depth Ã— min(height, 1800)
  totalVolume += count Ã— boxVolume
}

// 2. ì´ë¡  íŒŒë ›íŠ¸ ìˆ˜
palletVolumeCap = 1100 Ã— 1100 Ã— 1800
palletsRaw = ceil(totalVolume / palletVolumeCap)

// 3. í˜¼í•© ë³´ì •
mixFactor = (selectedModules.size === 1) ? 1.0 : 1.1
pallets = ceil(palletsRaw Ã— mixFactor)
```

### ë°ì´í„° ëª¨ë¸

**BoxInput** (ì‚¬ìš©ì ì…ë ¥):
```typescript
{ id, width, depth, height, count }
```

**ClassifiedBox** (ë¶„ë¥˜ ê²°ê³¼):
```typescript
{ ...BoxInput, classification: 'ì†Œí˜•' | 'ì¤‘í˜•' | 'ëŒ€í˜•' | 'UNCLASSIFIED' }
```

**ModuleAggregate** (ëª¨ë“ˆë³„ ì§‘ê³„):
```typescript
{
  moduleName: BoxSize
  countTotal: number          // ì´ ë°•ìŠ¤ ê°œìˆ˜
  heightMax: number           // ìµœëŒ€ ë†’ì´
  volumeTotal: number         // ì´ ì²´ì  (mmÂ³)
  palletsStandalone: number   // ë‹¨ë… íŒŒë ›íŠ¸ ìˆ˜
}
```

**PalletCalculationResult**:
```typescript
{
  palletsRaw: number      // ë³´ì • ì „
  mixFactor: number       // ë³´ì •ê³„ìˆ˜ (1.0 or 1.1)
  pallets: number         // ìµœì¢… íŒŒë ›íŠ¸ ìˆ˜
  totalVolume: number     // ì´ ì²´ì 
  warnings: string[]      // ê²½ê³  ë©”ì‹œì§€
}
```

### ë”ë¯¸ ë°ì´í„° (mockData.ts)

**í‘œì¤€ ëª¨ë“ˆ:**
- ì†Œí˜•: 550 Ã— 275mm
- ì¤‘í˜•: 550 Ã— 366mm
- ëŒ€í˜•: 650 Ã— 450mm

**ìƒí’ˆ:**
- ê²½ë¡œ ìƒí’ˆ: 8ê°œ (ë„ë‚´ 4, ì…ë„ 2, ì¶œë„ 2)
- ê³µê°„ ìƒí’ˆ: 8ê°œ
- ì·¨ê¸‰ íŠ¹ì´ì‚¬í•­: 6ê°œ
- ê·œì • ë£°: 5ê°œ

---

## ğŸš« ì œì•½ì‚¬í•­

### âŒ ì ˆëŒ€ êµ¬í˜„ ê¸ˆì§€
1. ë¡œê·¸ì¸/íšŒì›ê°€ì… ì‹œìŠ¤í…œ
2. ì‹¤ì œ ê²°ì œ ì‹œìŠ¤í…œ
3. ë°±ì—”ë“œ ì„œë²„ / ë°ì´í„°ë² ì´ìŠ¤
4. ë³„ë„ í˜ì´ì§€ ë¼ìš°íŒ…
5. ì‹¤ì‹œê°„ ë°ì´í„° ì—°ë™
6. ì‹¤ì œ ê±°ë˜ ì‹¤í–‰

### âœ… í—ˆìš© ë²”ìœ„
1. ë”ë¯¸ ë°ì´í„° ê¸°ë°˜ UI
2. ëª¨ë‹¬ ê¸°ë°˜ ìƒì„¸ í˜ì´ì§€
3. ë£° ê¸°ë°˜ ê·œì • ë§¤ì¹­ (if-else)
4. ë”ë¯¸ ë¹„ìš© ê³„ì‚°
5. í† ìŠ¤íŠ¸ í”¼ë“œë°±

---

## ğŸ¨ ë””ìì¸ ì‹œìŠ¤í…œ

### ìƒ‰ìƒ
- ì§€ë„: Mapbox light-v11
- ë¸”ëŸ¬: `rgba(14, 165, 233, 0.15) + blur(12px)`
- ì½˜ì†”: `rgba(255, 255, 255, 0.8)`
- ë§ˆì»¤: `#ff6b35` (ì£¼í™©)
- ê²½ë¡œ: ë„ë‚´ `#3b82f6`, ì…ë„ `#10b981`, ì¶œë„ `#a855f7`

### ë²„íŠ¼
- ë³´ê´€: `blue-500 â†’ blue-600`
- ìš´ì†¡: `emerald-500 â†’ emerald-600`
- ë³´ê´€+ìš´ì†¡: `purple-500 â†’ purple-600`

### ìœ„ì ¯ ìŠ¤íƒ€ì¼
- ë°°ê²½: `white/90 + backdrop-blur-sm`
- í…Œë‘ë¦¬: `border-slate-300`
- ê·¸ë¦¼ì: `shadow-lg`
- ë‘¥ê·¼ ëª¨ì„œë¦¬: `rounded-lg`

---

## ğŸ“ ì½”ë”© ìŠ¤íƒ€ì¼

- ì»´í¬ë„ŒíŠ¸: ê¸°ëŠ¥ë³„ ë¶„ë¦¬ (ê³¼ë„í•œ ì¶”ìƒí™” ì§€ì–‘)
- íƒ€ì…: `types/models.ts`ì— ì§‘ì¤‘
- ìŠ¤íƒ€ì¼ë§: Tailwind ìš°ì„ 

---

**ì‘ì„±ì¼**: 2025.01.14
**ìµœì¢… ìˆ˜ì •**: 2025.01.23 (PR3-2 ì™„ë£Œ - í¬ì¥ ëª¨ë“ˆ ë¶„ë¥˜ + íŒŒë ›íŠ¸ í™˜ì‚°)
