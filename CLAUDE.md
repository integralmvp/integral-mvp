# INTEGRAL MVP - 개발 가이드

## 📋 프로젝트 개요

### 기본 정보
- **프로젝트명**: INTEGRAL
- **목적**: 제주 물류 공유 플랫폼 - 공간과 경로를 상품화하는 공유 물류 서비스
- **버전**: MVP v3.0 (설득용 시연 목적)

### ⚠️ 중요: MVP의 본질
> **이 프로젝트는 설득용 시연 목적이며, 실제 운영 목적이 아닙니다.**
>
> - 투자자/이해관계자에게 3-5분 내 서비스 가치를 전달하는 것이 목표
> - 실제 거래 기능 없음 (모든 것이 더미 데이터 기반)
> - 백엔드/데이터베이스 없음
> - "이 서비스가 작동한다면 어떻게 보일까?"를 시각화하는 프로토타입

---

## 🎯 핵심 설계 원칙

1. **직관성 우선** - 별도 설명 없이 화면만으로 서비스 이해 가능
2. **지도 중심 UI** - 모든 가치는 지도에서 시각적으로 전달
3. **싱글 페이지 구조** - 별도 라우팅 없이 스크롤/모달로 모든 정보 접근
4. **더미 데이터 기반** - 백엔드 없음, 모든 데이터는 mockData에서 관리
5. **룰 기반 로직** - 복잡한 알고리즘 대신 단순 조건문 기반

---

## ⚙️ 기술 스택

- **프레임워크**: Vite + React + TypeScript
- **스타일링**: Tailwind CSS
- **지도**: Mapbox GL JS (light-v11 스타일)
- **폰트**: Pretendard (메인), Inter (숫자), JetBrains Mono (LIVE)

### 환경변수
```env
VITE_MAPBOX_ACCESS_TOKEN=your_mapbox_token_here
```

---

## 📁 프로젝트 구조

```
src/
├── components/
│   ├── Layout/
│   │   ├── CommandHeader.tsx    # 헤더 (로고/타이틀/LIVE)
│   │   ├── CommandLayout.tsx    # 전체 레이아웃 (3칸 구조)
│   │   ├── LeftConsole.tsx      # 좌측 콘솔 (인기상품/현황)
│   │   └── RightConsole.tsx     # 우측 콘솔 (서비스 버튼)
│   └── Map/
│       ├── MapboxContainer.tsx  # Mapbox 지도 컨테이너
│       └── MainlandMinimap.tsx  # 육지 미니맵
├── styles/
│   └── fonts.css                # 폰트 설정
├── types/
│   └── models.ts                # 데이터 모델 타입 정의
├── data/
│   └── mockData.ts              # 더미 데이터
└── utils/
    ├── regulationEngine.ts      # 규정 매칭 룰 엔진
    └── costCalculator.ts        # 비용 계산 유틸리티
```

---

## ✅ 완료된 작업

### PR1: 프로젝트 초기 설정
- Vite + React + TypeScript 구축
- Tailwind CSS 설정
- 기본 레이아웃 골격

### PR2-2: UI 전면 개편 + Mapbox 도입
- **관제 센터 스타일 UI**
  - 다크 테마 (slate-900/800 그라데이션)
  - 3칸 레이아웃 (좌측 콘솔 | 지도 | 우측 콘솔)
  - 반투명 배경 + backdrop-blur 효과
- **Mapbox GL JS 도입**
  - Kakao Maps 완전 대체
  - 제주도 중심 + 바운드 제한
- **헤더 (CommandHeader)**
  - 로고: INTEGRAL (좌측)
  - 타이틀: "내 손 안의 작은 물류 허브" (중앙)
  - LIVE 표시 + 펄스 애니메이션 (우측)
- **좌측 콘솔 (LeftConsole)**
  - 실시간 인기 상품 (순위 뱃지, 가격 K단위)
  - 보유 상품 현황 (152 파렛트, 6 경로)
- **우측 콘솔 (RightConsole)**
  - 보관하기 버튼 (파랑 그라데이션)
  - 운송하기 버튼 (초록 그라데이션)
  - 슬로건 표시
- **지도 요소**
  - 파렛트 아이콘 마커 (크기 비례, 주황색 SVG)
  - 3레이어 입체 곡선 화살표 (베지어 커브)
  - 지도 범례 바
- **육지 미니맵**
  - 한반도 SVG
  - 3개 항만 (인천, 목포, 부산)
  - 입출도 화살표

---

## 🎯 다음 작업

### PR2-3 예정: 다크 테마 + 야광 효과
- 우주 배경 + 별 효과
- 투명 헤더 (로고/LIVE만 선 구분)
- 지도 위 글로우 타이틀
- 아이소메트릭 3D 파렛트 마커
- 야광 곡선 화살표 (4레이어 글로우)
- 위젯 리디자인 (타이틀 + 구분선 + 컨텐츠)
- 보유 현황 막대 그래프
- 가격 표기 ₩/P 형식

### PR3 예정: 상품 리스트 + 거래 모달
- 경로/공간 상품 리스트
- 상세 모달 (RouteDetailModal, StorageDetailModal)
- 거래 모달 (DealModal) - 핵심 기능
- 규정 매칭 로직 연결
- 비용 계산 연결

### PR4 예정: 경로 통합 + CTA + 마무리
- 경로 통합 배지
- 공간-경로 연결 UI
- 사용자 CTA 섹션
- 반응형 디자인
- 데모 시나리오 최적화

---

## 🎨 디자인 시스템

### 색상
| 요소 | 색상 |
|------|------|
| 배경 | slate-900/800 그라데이션 |
| 콘솔 배경 | slate-900/85 (반투명) |
| 공간 상품 마커 | orange-500 |
| 도내 경로 | blue-600 (실선) |
| 입도 경로 | emerald-500 (점선) |
| 출도 경로 | purple-500 (점선) |

### 버튼
| 버튼 | 스타일 |
|------|--------|
| 보관하기 | blue-500 → blue-600 그라데이션 |
| 운송하기 | emerald-500 → emerald-600 그라데이션 |

### 상태 표현
| 상태 | 색상 |
|------|------|
| 가능 | 녹색 |
| 주의 | 노란색 |
| 불가 | 빨간색 |

---

## 🚫 제약사항 및 금지사항

### ❌ 절대 구현하지 말 것
1. **로그인/회원가입 시스템** - MVP 범위 초과
2. **실제 결제 시스템** - 더미 데이터 기반 시연용
3. **백엔드 서버** - 프론트엔드 더미 데이터만
4. **데이터베이스** - mockData.ts로 충분
5. **별도 페이지 라우팅** - 싱글 페이지 구조 유지
6. **실시간 데이터 연동** - 더미 데이터 기반
7. **실제 거래 실행** - 더미 ID 생성 + 토스트만

### ✅ 허용되는 범위
1. 더미 데이터 기반 모든 UI
2. 모달 기반 상세 페이지
3. 앵커 기반 섹션 스크롤
4. 룰 기반 규정 매칭
5. 더미 비용 계산
6. 성공 토스트 피드백

---

## 📝 코딩 스타일

### 컴포넌트
- 기능별로 분리 (과도한 추상화 지양)
- Props 타입은 인터페이스로 명시
- 재사용 가능한 컴포넌트는 `common/`에

### 타입 정의
- 모든 타입은 `types/models.ts`에 집중
- `export interface` 사용
- 타입 이름은 PascalCase

### 스타일링
- Tailwind 유틸리티 클래스 우선
- 커스텀 CSS 최소화
- 일관된 색상 팔레트 유지

---

## 📊 데이터 모델 (핵심)

### 경로 상품 (RouteProduct)
```typescript
{
  id: string;
  origin: { name, lat, lng };
  destination: { name, lat, lng };
  vehicleType: string;
  price: number;
  priceUnit: string;
}
```

### 공간 상품 (StorageProduct)
```typescript
{
  id: string;
  location: { name, lat, lng, region };
  storageType: StorageType;
  capacity: string;
  price: number;
  priceUnit: string;
}
```

### 더미 데이터 개수
- 경로 상품: 6개
- 공간 상품: 6개
- 유니트 로드 모듈: 3개 (소형, 대형, 특수)
- 취급 특이사항: 6개
- 규정 룰: 5개

---

## 🎯 우선순위

### P0 (필수)
- 지도 + 마커 + 경로 시각화
- 상품 카드/리스트
- 거래 모달
- 규정 매칭/비용 계산

### P1 (권장)
- 호버 효과/툴팁
- 통합가능 배지
- 사용자 CTA

### P2 (선택)
- 부드러운 애니메이션
- 추가 시각 효과

---

## 🔄 Git 브랜치

- `main`: 프로덕션 (PR 머지 후)
- `claude/implement-product-card-f3AKc`: 현재 개발 브랜치

---

**작성일**: 2025.01.14
**최종 수정**: 2025.01.17 (PR2-2 반영)
