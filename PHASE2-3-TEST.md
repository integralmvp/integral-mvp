# Phase 2+3 테스트 시나리오

## 목표
- 보관 탭: 파렛트 거래 단위 (computeDemand STORAGE)
- 운송 탭: 큐브 거래 단위 (computeDemand ROUTE)
- UNCLASSIFIED 박스 처리
- 아코디언 자동 진행

---

## 필수 테스트 시나리오 (6가지)

### 1. 보관: 정상 박스 입력
**목적**: 보관 탭에서 정상 박스 입력 시 파렛트 환산 및 선택 확정

**단계**:
1. 보관 탭 선택
2. 수요면적 아코디언 클릭 → 열림
3. 포장 단위 선택 (기본값)
4. "박스 종류 추가" 버튼 클릭
5. 박스 정보 입력:
   - 가로: 300mm
   - 세로: 200mm
   - 높이: 150mm
   - 개수: 10
6. 결과 확인:
   - "총 N 파렛트" 표시 (정수)
   - "약" 또는 소수점 없음
7. "N 파렛트를 선택하시겠습니까?" 버튼 클릭
8. 수요면적 아코디언 자동 접힘
9. 품목 아코디언 자동 펼쳐짐

**예상 결과**:
- ✅ 파렛트 수가 정수로 표시됨
- ✅ "선택됨: N 파렛트" 요약 표시
- ✅ 다음 아코디언 자동 전개

---

### 2. 보관: UNCLASSIFIED 입력
**목적**: 표준 모듈 범위를 벗어난 박스 처리

**단계**:
1. 보관 탭 선택
2. 수요면적 아코디언 열기
3. 박스 정보 입력:
   - 가로: 1000mm (대형 모듈 초과)
   - 세로: 800mm (대형 모듈 초과)
   - 높이: 500mm
   - 개수: 1
4. 경고 메시지 확인:
   - "표준 모듈 범위를 벗어났습니다. 면적 입력 방식으로 전환해주세요."
   - 1줄 간단한 안내만
5. "면적 단위로 전환" 버튼 클릭
6. 자동으로 면적 단위 입력으로 전환 확인

**예상 결과**:
- ✅ UNCLASSIFIED 경고 1줄만 표시
- ✅ 상세 검증 에러 UI 없음 (console.warn만)
- ✅ 면적 단위로 전환 버튼 동작
- ✅ 선택 버튼 비활성화

---

### 3. 운송: 소량 박스 1개
**목적**: 운송 탭에서 큐브 단위 표시 확인

**단계**:
1. 운송 탭 선택
2. 수요면적 아코디언 열기
3. 박스 정보 입력:
   - 가로: 250mm
   - 세로: 250mm
   - 높이: 250mm
   - 개수: 1
4. 결과 확인:
   - "총 M 큐브" 표시 (정수)
   - 파렛트 표기 없음
   - "약" 표기 없음
5. "M 큐브로 운송을 요청하시겠습니까?" 버튼 클릭
6. 수요면적 아코디언 자동 접힘
7. 품목 아코디언 자동 펼쳐짐

**예상 결과**:
- ✅ 큐브 수가 정수로 표시됨
- ✅ 파렛트 관련 표기 없음
- ✅ "선택됨: M 큐브" 요약 표시
- ✅ 다음 아코디언 자동 전개

---

### 4. 운송: 여러 박스 혼합
**목적**: 여러 박스 입력 시 큐브 합산 확인

**단계**:
1. 운송 탭 선택
2. 수요면적 아코디언 열기
3. 박스 3종 입력:
   - 박스 1: 300×200×150mm, 10개
   - 박스 2: 400×300×200mm, 5개
   - 박스 3: 500×350×250mm, 3개
4. 결과 확인:
   - "총 M 큐브" 표시
   - 모듈별 참고 정보 확인 (접기/펼치기)
5. "M 큐브로 운송을 요청하시겠습니까?" 버튼 클릭

**예상 결과**:
- ✅ 모든 박스 체적 합산 정상
- ✅ 큐브 수 정수 표시
- ✅ 모듈별 참고 정보 표시 (선택사항)
- ✅ 파렛트 표기 없음

---

### 5. 운송: UNCLASSIFIED
**목적**: 운송 탭에서도 UNCLASSIFIED 처리 동일

**단계**:
1. 운송 탭 선택
2. 수요면적 아코디언 열기
3. 박스 정보 입력:
   - 가로: 1000mm
   - 세로: 800mm
   - 높이: 500mm
   - 개수: 1
4. 경고 메시지 확인:
   - "표준 모듈 범위를 벗어났습니다. 면적 입력 방식으로 전환해주세요."
5. "면적 단위로 전환" 버튼 클릭

**예상 결과**:
- ✅ 보관 탭과 동일한 UNCLASSIFIED 처리
- ✅ 1줄 간단한 안내만
- ✅ 선택 버튼 비활성화

---

### 6. 운송: "약/소수점/파렛트" 표기 검증
**목적**: 운송 탭에 파렛트 관련 표기가 남아있지 않은지 확인

**체크리스트**:
- [ ] "약 N 파렛트" 표기 없음
- [ ] "N.X 파렛트" 소수점 표기 없음
- [ ] "파렛트 환산" 관련 텍스트 없음
- [ ] "1파렛트 = 1.1m × 1.1m" 설명 없음
- [ ] 모든 표기가 "큐브" 단위로 통일
- [ ] "1큐브 = 250mm × 250mm × 250mm" 설명만 표시

**예상 결과**:
- ✅ 운송 탭에서 파렛트 관련 표기 완전 제거
- ✅ 큐브 단위만 사용

---

## 추가 검증 항목

### 거래 단위 분리
- [ ] 보관: demandPallets 사용
- [ ] 운송: demandCubes 사용
- [ ] 보관: 파렛트만 표시
- [ ] 운송: 큐브만 표시

### 계산 정확성
- [ ] 보관: Math.ceil(cubes / 128) = 파렛트
- [ ] 운송: cubes (정수)
- [ ] STORAGE 모드: packing factor 1.15
- [ ] ROUTE 모드: packing factor 1.10

### UI/UX
- [ ] 아코디언 자동 진행 동작
- [ ] 탭 전환 시 상태 독립
- [ ] 선택 확정 후 요약 표시
- [ ] UNCLASSIFIED 버튼 비활성화

### Console 로그
- [ ] UNCLASSIFIED: console.warn만
- [ ] UI에 검증 상세 정보 노출 없음
- [ ] 검색 버튼 클릭 시 선택값 console.log

---

## 통과 기준

### 필수 (모두 통과)
- ✅ 6가지 시나리오 모두 예상대로 동작
- ✅ 보관 = 파렛트, 운송 = 큐브 분리
- ✅ UNCLASSIFIED 1줄 안내
- ✅ "약" 표기 없음
- ✅ 아코디언 자동 진행

### 권장
- ✅ 모듈별 참고 정보 표시
- ✅ 계산 정확성
- ✅ 타입 안전성 (TypeScript 빌드 통과)

---

**작성일**: 2025.01.24
**버전**: Phase 2+3
